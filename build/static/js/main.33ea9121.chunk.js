(this.webpackJsonpanime_tracker=this.webpackJsonpanime_tracker||[]).push([[0],{19:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(21),c=n.n(s),i=(n(27),n(8)),o=n(2),l=(n(28),n(6)),d=n(12);var u=function(e,t){switch(t.type){case"LOAD_ANIMES":var n=localStorage.getItem("list");return n?JSON.parse(n):Object(d.a)(e);case"ADD_ANIME":var a=[{name:t.anime.name,genre:t.anime.genre,url:t.anime.url,aid:t.anime.aid,rating:t.anime.rating,episodes:t.anime.episodes,date:t.anime.date,description:t.anime.description,banner:t.anime.banner,id:t.anime.id}].concat(Object(d.a)(e));return localStorage.setItem("list",JSON.stringify(a)),a;case"REMOVE_ANIME":var r=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("list",JSON.stringify(r)),r;default:return e}},m=n(13);var b=function(e,t){switch(t.type){case"TOGGLE_SAFE_MODE":var n=e.safeMode;return{safeMode:n=!n,loading:e.loading,password:e.password,passwordToggle:e.passwordToggle,selectedState:e.selectedState};case"TOGGLE_LOADING":var a=e.loading;return a=!a,{safeMode:e.safeMode,loading:a,password:e.password,passwordToggle:e.passwordToggle,selectedState:e.selectedState};case"NULLIFER":return Object(m.a)(Object(m.a)({},e),{},{selectedState:null});case"CHECK_PASSWORD":var r=e.password,s=e.passwordToggle;return"stillwinter"===t.payload?(r=!0,s=!s):"xD"===t.payload?r=!1:s=!s,{safeMode:e.safeMode,loading:e.loading,password:r,passwordToggle:s,selectedState:e.selectedState};case"SET_SELECTED_STATE":var c=t.payload;return Object(m.a)(Object(m.a)({},e),{},{selectedState:c});default:return e}};var g=function(e,t){switch(t.type){case"ADD_ANIME":return[].concat(Object(d.a)(e),[{name:t.anime.name,genre:t.anime.genre,url:t.anime.url,id:t.anime.aid,rating:t.anime.rating,description:t.anime.description,episodes:t.anime.episodes,date:t.anime.date,banner:t.anime.banner}]);case"CLEAR":return[];default:return e}},p=n(0),j=Object(a.createContext)();var f=function(e){var t=Object(a.useReducer)(u,[]),n=Object(l.a)(t,2),r=n[0],s=n[1],c=Object(a.useReducer)(g,[]),i=Object(l.a)(c,2),o=i[0],d=i[1],m=Object(a.useReducer)(b,{safeMode:!0,loading:!1,password:!1,passwordToggle:!1,selectedState:null}),f=Object(l.a)(m,2),x=f[0],O=f[1];return Object(p.jsx)(j.Provider,{value:{animes:r,dispatch:s,auth:x,authenticator:O,currentAnimes:o,currentAnimeDispatch:d},children:e.children})};n(19);var x=function(e){var t,n,r=Object(a.useContext)(j).dispatch,s=Object(a.useRef)(null),c=!1,i=function(){c=!1};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"card_outer flex items-end z-10",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08)),\n    url(".concat(e.url,") no-repeat center center/cover")},children:[Object(p.jsx)("div",{className:"card_content_cover"}),Object(p.jsxs)("div",{className:"card_content my-2",children:[Object(p.jsx)("h1",{className:"pr-2 font-bold text-xl",children:e.name}),Object(p.jsxs)("div",{className:"card_details",children:[e.episodes?Object(p.jsxs)("div",{className:"episodes",children:["EP : ",e.episodes," "]}):"",e.date?Object(p.jsxs)("div",{className:"year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.month-1]," ",e.date.year," "]}):"",Object(p.jsx)("div",{className:"card_rating",children:e.rating?Object(p.jsxs)(p.Fragment,{children:[e.rating/10," ",Object(p.jsx)("i",{className:"fas fa-star"})]}):""})]}),Object(p.jsx)("div",{className:"genre mb-2",ref:s,onMouseDown:function(e){c=!0,t=e.pageX-s.current.offsetLeft,n=s.current.scrollLeft},onMouseUp:i,onMouseLeave:i,onMouseMove:function(e){if(e.preventDefault(),c){var a=e.pageX-s.current.offsetLeft-t;s.current.scrollLeft=n-a}},children:e.genre.map((function(e,t){return Object(p.jsx)("p",{className:"genre_item mr-2 rounded-full py-1 my-1 px-2 bg-gray-600 text-sm bg-opacity-80",children:e},t)}))}),Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsxs)("button",{id:"delete",className:"flex justify-center items-center p-2 w-1/2 mx-2 bg-red-600 rounded-md text-white active:text-red-600 active:bg-gray-200 hover:text-red-600 hover:bg-gray-200",onClick:function(){r({type:"REMOVE_ANIME",id:e.id})},children:[Object(p.jsx)("i",{className:"far fa-trash-alt mr-2"}),"DELETE"]}),Object(p.jsx)("button",{onClick:function(){e.showModalFunction(e.id)},class:"flex justify-center items-center p-2 w-1/2 mx-2 bg-blue-600 rounded-md text-white active:text-red-600 active:bg-gray-200 hover:text-red-600 hover:bg-gray-200",children:"MORE INFO"})]})]})]})})};var O=function(e){var t=e.info.description.replace(/\([^\)]+?\)/g,""),n=Object(a.useContext)(j).auth,r=Object(a.useState)(!1),s=Object(l.a)(r,2),c=s[0],i=s[1];Object(a.useEffect)((function(){n.selectedState&&(document.body.style.overflow="hidden",document.addEventListener("keydown",(function(t){"Escape"===t.key&&o().then((function(){e.onClose()}))})))}),[n.selectedState]);var o=function(){return new Promise((function(e){setTimeout(e,1e3)}))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{id:"myModal",className:"modal py-10 fixed flex justify-center align-middle left-0 bottom-0 right-0 top-0 w-full h-full",children:Object(p.jsxs)("div",{className:"modal-content ".concat(c?"flipOut":""," text-white mb-2 flex flex-col rounded-lg relative text-sm w-5/6 sm:w-5/6 xl:w-1/2 lg:w-1/2 md:w-1/2 max-h-full p-4 overflow-y-auto bg-gray-900 sm:text-base xl:text-base lg:text-base md:text-base"),children:[Object(p.jsx)("h1",{style:{background:"linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.1)),\n    url(".concat(e.info.banner,") no-repeat center center/cover")},className:"text-2xl py-7 px-3 text-white font-bold mb-2 xl:text-3xl lg:text-2xl md:text-2xl sm:2xl",children:e.info.name}),Object(p.jsx)("div",{className:"pb-14",dangerouslySetInnerHTML:{__html:t}}),Object(p.jsx)("button",{className:"sticky bottom-0 ml-auto bg-red-500 hover:bg-yellow-300 hover:text-black text-white font-bold py-2 px-4 rounded",onClick:function(){i(!0),new Promise((function(e){setTimeout(e,500)})).then((function(){e.onClose()}))},children:"CLOSE"})]})})})};var h=function(e){var t,n,r=Object(a.useContext)(j).dispatch,s=Object(a.useState)(!1),c=Object(l.a)(s,2),i=c[0],o=c[1],d=Object(a.useState)(!1),u=Object(l.a)(d,2),m=u[0],b=u[1],g=function(){return new Promise((function(e){setTimeout(e,1e3)}))},f=Object(a.useRef)(null),x=!1,O=function(e){x=!1};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"card_outer flex items-end z-10",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1)),\n    url(".concat(e.url,") no-repeat center center/cover")},children:[Object(p.jsx)("div",{className:"card_content_cover"}),Object(p.jsxs)("div",{className:"card_content my-2",children:[Object(p.jsx)("h1",{className:"pr-2 font-bold text-xl",children:e.name}),Object(p.jsxs)("div",{className:"card_details",children:[e.episodes?Object(p.jsxs)("div",{className:"episodes",children:["EP : ",e.episodes," "]}):"",e.date?Object(p.jsxs)("div",{className:"year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.month-1]," ",e.date.year," "]}):"",Object(p.jsx)("div",{className:"card_rating",children:e.rating?Object(p.jsxs)(p.Fragment,{children:[" ",e.rating/10," ",Object(p.jsx)("i",{className:"fas fa-star"})]}):""})]}),Object(p.jsx)("div",{className:"genre mb-2",ref:f,onMouseDown:function(e){x=!0,t=e.pageX-f.current.offsetLeft,n=f.current.scrollLeft},onMouseUp:O,onMouseLeave:O,onMouseMove:function(e){if(e.preventDefault(),x){var a=e.pageX-f.current.offsetLeft-t;f.current.scrollLeft=n-a}},children:e.genre.map((function(e,t){return Object(p.jsx)("p",{className:"genre_item mr-2 rounded-full py-1 my-1 px-2 bg-gray-600 text-sm bg-opacity-80",children:e},t)}))}),Object(p.jsxs)("button",{id:"add",className:(i?"bg-yellow-300 text-gray-900 ":m?"bg-green-600 text-white ":"bg-blue-600 text-white ")+"flex justify-center  items-center p-2 w-full mx-auto rounded-md text-white active:text-gray-900 active:bg-gray-200",onClick:function(){r({type:"ADD_ANIME",anime:{name:e.name,genre:e.genre,url:e.url,rating:e.rating,description:e.description,episodes:e.episodes,date:e.date,banner:e.banner,id:Date.now()}}),o(!0),g().then((function(){o(!1),b(!0),g().then((function(){b(!1)}))}))},children:[Object(p.jsx)("i",{className:"far fa-plus-square mr-2"}),i?"LOADING":m?"SUCCESS":"WATCHLIST"]})]})]})})};var y=function(e){var t,n=Object(a.useContext)(j),r=n.animes,s=n.authenticator,c=n.auth,i=Object(a.useContext)(j).currentAnimes;function o(e){var t=r.find((function(t){return t.id===e}));s({type:"SET_SELECTED_STATE",payload:t})}return(t="Current"===e.type?i:r).length?"Current"===e.type?Object(p.jsx)("div",{className:"cards grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-3 mt-6 justify-items-center ",children:t.map((function(e){return Object(p.jsx)(h,{name:e.name,genre:e.genre,rating:e.rating,episodes:e.episodes,url:e.url,description:e.description,date:e.date,banner:e.banner},e.id)}))}):Object(p.jsxs)("div",{className:"cards grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-4 my-10 justify-items-center ",children:[t.map((function(e){return Object(p.jsx)(x,{name:e.name,genre:e.genre,rating:e.rating,episodes:e.episodes,description:e.description,url:e.url,date:e.date,id:e.id,showModalFunction:o},e.aid)})),c.selectedState&&Object(p.jsx)(O,{info:c.selectedState,onClose:function(){document.body.style.overflow="auto",s({type:"NULLIFER"})}})]}):Object(p.jsx)("h1",{className:"text-4xl text-white mt-32 text-center",children:"NO MORE ANIME...."})};var v=function(){var e=Object(a.useContext)(j),t=e.currentAnimes,n=e.currentAnimeDispatch,r=e.auth,s=new Date,c={WINTER:["January","February","March"],SPRING:["April","May","June"],SUMMER:["July","August","September"],FALL:["October","November","December"]},i=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(a.useEffect)((function(){!function(){var e,t=i[s.getMonth()],a=s.getFullYear();!function(t){Object.keys(c).find((function(n){c[n].includes("".concat(t))&&(e=n)}))}(t);var o="query ($page: Int = 1) {\n        Page(page: $page, perPage: 50) {\n          pageInfo {\n            total\n            perPage\n            currentPage\n            lastPage\n            hasNextPage\n          }\n          media(type: ANIME, status: RELEASING, season: ".concat(e,", seasonYear: ").concat(a,", sort:POPULARITY_DESC) {\n            id\n            title {\n              english\n              romaji\n            }\n            coverImage {\n              extraLarge\n              large\n            }\n            startDate {\n              year\n              month\n              day\n            }\n            status\n            description\n            episodes\n            genres\n            bannerImage\n            isAdult\n            averageScore\n            nextAiringEpisode {\n              airingAt\n              timeUntilAiring\n              episode\n            }\n          }\n        }\n      }");fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:o,variables:{page:1}})}).then((function(e){return e.json()})).then((function(e){console.log("data returned:",e),e.data.Page.media.map((function(e){if(!r.safeMode||!e.isAdult)return n({type:"ADD_ANIME",anime:{name:e.title.english?e.title.english:e.title.romaji,url:e.coverImage.extraLarge,genre:e.genres,description:e.description,rating:e.averageScore,episodes:e.episodes,date:e.startDate,banner:e.bannerImage}}),null}))}))}()}),[]),t.length>1?Object(p.jsx)(y,{type:"Current"}):Object(p.jsx)("div",{className:"text-4xl text-white mt-32 text-center",children:" Loading.... "})};var N=function(){return Object(p.jsx)(v,{})};var E=function(){return Object(p.jsx)("header",{className:"text-gray-400 bg-gray-900 body-font",children:Object(p.jsxs)("div",{className:"w-full flex flex-wrap p-5 flex-col md:flex-row items-center",children:[Object(p.jsx)("div",{className:"flex title-font font-medium items-center  text-white mb-4 md:mb-0",children:Object(p.jsx)("span",{className:"ml-3 cursor-default text-2xl",children:"STILLWATER </>"})}),Object(p.jsxs)("nav",{className:"md:ml-auto flex flex-wrap justify-center items-center text-lg ",children:[Object(p.jsx)(i.b,{to:"/",className:" px-4 py-2 hover:text-white",children:"WATCHLIST"}),Object(p.jsx)(i.b,{to:"/current",className:"px-4 py-2 hover:text-white",children:"ONGOING ANIMES"}),Object(p.jsx)(i.b,{to:"/",className:"px-4 py-2 hover:text-white",children:"KHOPCHA"})]})]})})};var w=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(l.a)(s,2),i=c[0],o=c[1],d=Object(a.useRef)(!0),u=Object(a.useContext)(j),m=u.dispatch,b=u.auth,g=u.authenticator,f=u.currentAnimeDispatch;Object(a.useEffect)((function(){f({type:"CLEAR"})}),[]),Object(a.useEffect)((function(){m({type:"LOAD_ANIMES"}),i&&function(e){fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:'query($name: String, $status: MediaStatus) {         \n      Media(search: $name, type: ANIME, status: $status,genre_not_in:"MUSIC") {\n        id,\n        title {\n          english,\n          romaji,\n        },\n        status,\n        description,\n        startDate {\n          year,\n          month,\n          day\n        },\n        averageScore,\n        type,\n        bannerImage,\n        genres,\n        isAdult,\n        episodes,\n        nextAiringEpisode {\n          id,\n          airingAt,\n          timeUntilAiring\n        },\n        bannerImage,\n        coverImage {\n          large,\n          extraLarge\n        }\n      }\n    \n    }',variables:{name:e}})}).then((function(e){return e.json()})).then((function(e){e.errors||b.safeMode&&e.data.Media.isAdult?alert("ANIME NAME NOT FOUND... BE MORE SPECIFIC"):m({type:"ADD_ANIME",anime:{name:e.data.Media.title.english?e.data.Media.title.english:e.data.Media.title.romaji,url:e.data.Media.coverImage.extraLarge,genre:e.data.Media.genres,rating:e.data.Media.averageScore,episodes:e.data.Media.episodes,date:e.data.Media.startDate,description:e.data.Media.description,banner:e.data.Media.bannerImage,id:Date.now()}})}))}(i)}),[i]),Object(a.useEffect)((function(){if(d.current)return console.log('Pssst... Password is "stillwinter"'),void(d.current=!1);b.password?x().then((function(){g({type:"TOGGLE_SAFE_MODE"}),g({type:"TOGGLE_LOADING"})})):x().then((function(){alert("WRONG PASSWORD!"),g({type:"TOGGLE_LOADING"})}))}),[b.passwordToggle]);var x=function(){return new Promise((function(e){setTimeout(e,1e3)}))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{id:"input_form",className:"mx-8 mt-4 flex flex-col justify-center items-center space-x-4 xl:flex-row lg:flex-row md:flex-row sm:flex-col ",onSubmit:function(e){e.preventDefault(),o(n),r("")},children:[Object(p.jsx)("input",{id:"name",className:"w-full sm:w-full xl:w-3/4 lg:w-3/4 md:w-3/4 mt-4 bg-gray-600 rounded border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-400 text-base outline-none text-white py-1 px-3 leading-8 transition-colors duration-200 ease-in-out",type:"text",name:"hidden",value:n,placeholder:"Anime Name",autoComplete:"false",onChange:function(e){return r(e.target.value)},required:!0}),Object(p.jsxs)("div",{className:"buttons flex justify-center items-center space-x-4 mt-4",children:[Object(p.jsx)("button",{type:"submit",className:"px-4 py-2 rounded hover:bg-white hover:text-blue-700 bg-blue-700 text-white",children:"INSERT"}),Object(p.jsx)("button",{className:"px-4 py-2 rounded text-white whitespace-nowrap "+(b.loading?"bg-yellow-300 text-gray-900":b.safeMode?"bg-green-700 ":"bg-red-700 "),type:"button",onClick:function(){b.password?(g({type:"TOGGLE_LOADING"}),g({type:"CHECK_PASSWORD",payload:"xD"}),x().then((function(){g({type:"TOGGLE_SAFE_MODE"}),g({type:"TOGGLE_LOADING"})}))):(g({type:"TOGGLE_LOADING"}),new Promise((function(e){setTimeout(e,3e3)})).then((function(){var e=prompt("ENTER PASSWORD");g(null!==e&&""!==e?{type:"CHECK_PASSWORD",payload:e}:{type:"TOGGLE_LOADING"})})))},children:b.loading?"LOADING":b.safeMode?"SAFE MODE:ON":"SAFE MODE:OFF"})]})]})})};var A=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"form",children:Object(p.jsx)(w,{})}),Object(p.jsx)(y,{type:"watchlist"})]})};var S=function(){return Object(p.jsxs)(f,{children:[Object(p.jsx)(E,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",component:A}),Object(p.jsx)(o.a,{exact:!0,path:"/current",component:N})]})]})};c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)(S,{})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.33ea9121.chunk.js.map