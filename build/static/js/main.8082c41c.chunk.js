(this.webpackJsonpanime_tracker=this.webpackJsonpanime_tracker||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(7),c=n.n(i),s=(n(12),n(13),n(2)),d=n(6);var o=function(e,t){switch(t.type){case"LOAD_ANIMES":var n=localStorage.getItem("list");return console.log(n),n?JSON.parse(n):Object(d.a)(e);case"ADD_ANIME":var a=[].concat(Object(d.a)(e),[{name:t.anime.name,genre:t.anime.genre,url:t.anime.url,aid:t.anime.aid,rating:t.anime.rating,id:Date.now()}]);return localStorage.setItem("list",JSON.stringify(a)),a;case"REMOVE_ANIME":var r=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("list",JSON.stringify(r)),r;default:return e}},l=n(0),u=Object(a.createContext)();var j=function(e){var t=Object(a.useReducer)(o,[]),n=Object(s.a)(t,2),r=n[0],i=n[1];return Object(l.jsx)(u.Provider,{value:{animes:r,dispatch:i},children:e.children})};var m=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(s.a)(i,2),d=c[0],o=c[1],j=Object(a.useState)(""),m=Object(s.a)(j,2),O=(m[0],m[1]),b=Object(a.useContext)(u).dispatch;return Object(a.useEffect)((function(){d&&function(e){fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"query($name: String, $status: MediaStatus) {\n            Media(search: $name, type: ANIME, status: $status) {\n              id,\n              title {\n                english,\n                romaji,\n              },\n              status,\n              averageScore,\n              type,\n              genres,\n              episodes,\n              nextAiringEpisode {\n                id,\n                airingAt,\n                timeUntilAiring\n              },\n              bannerImage,\n              coverImage {\n                large,\n                extraLarge\n              }\n            }\n          }",variables:{name:e}})}).then((function(e){return e.json()})).then((function(e){console.log("data returned:",e),e.errors?alert("ANIME NAME NOT FOUND... BE MORE SPECIFIC"):(O(e),b({type:"ADD_ANIME",anime:{name:e.data.Media.title.english?e.data.Media.title.english:e.data.Media.title.romaji,url:e.data.Media.coverImage.extraLarge,genre:e.data.Media.genres,aid:e.data.Media.id,rating:e.data.Media.averageScore}}))}))}(d)}),[d]),Object(a.useEffect)((function(){b({type:"LOAD_ANIMES"})}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{id:"input_form",onSubmit:function(e){e.preventDefault(),o(n),r("")},children:[Object(l.jsx)("input",{id:"name",type:"text",name:"animeName",value:n,placeholder:"Anime Name",onChange:function(e){return r(e.target.value)},required:!0}),Object(l.jsx)("button",{type:"submit",children:"INSERT"})]})})};n(15);var O=function(e){var t=Object(a.useContext)(u).dispatch;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"card_outer",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08)),\n    url(".concat(e.url,") no-repeat center center/cover")},children:[Object(l.jsx)("div",{className:"card_content_cover"}),Object(l.jsxs)("div",{className:"card_content",children:[Object(l.jsx)("h1",{children:e.name}),Object(l.jsx)("div",{className:"genre",children:Object(l.jsx)("p",{children:e.genre.map((function(e,t){return e+" "}))})}),Object(l.jsx)("div",{className:"card_details",children:Object(l.jsxs)("div",{className:"card_rating",children:[Object(l.jsx)("p",{children:e.rating/10}),Object(l.jsx)("i",{className:"fas fa-star"})]})}),Object(l.jsx)("button",{id:"delete",onClick:function(n){t({type:"REMOVE_ANIME",id:e.id})},children:"DELETE"})]})]})})};var b=function(){var e=Object(a.useContext)(u).animes;return e.length?Object(l.jsx)("div",{className:"cards",children:e.map((function(t){return console.log(e),Object(l.jsx)(O,{name:t.name,id:t.id,anime_id:t.aid,genre:t.genre,rating:t.rating,url:t.url},t.id)}))}):Object(l.jsx)("h1",{className:"empty",children:"No More Animes On The List"})};var g=function(){return Object(l.jsx)(j,{children:Object(l.jsxs)("div",{className:"cover",children:[Object(l.jsx)("div",{className:"form",children:Object(l.jsx)(m,{})}),Object(l.jsx)(b,{})]})})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.8082c41c.chunk.js.map