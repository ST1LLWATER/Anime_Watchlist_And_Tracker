(this.webpackJsonpanime_tracker=this.webpackJsonpanime_tracker||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(7),i=a.n(s),c=(a(12),a(13),a(2)),o=a(6);var d=function(e,t){switch(t.type){case"LOAD_ANIMES":var a=localStorage.getItem("list");return a?JSON.parse(a):Object(o.a)(e);case"ADD_ANIME":var n=[{name:t.anime.name,genre:t.anime.genre,url:t.anime.url,aid:t.anime.aid,rating:t.anime.rating,episodes:t.anime.episodes,date:t.anime.date,id:Date.now()}].concat(Object(o.a)(e));return localStorage.setItem("list",JSON.stringify(n)),n;case"REMOVE_ANIME":var r=e.filter((function(e){return e.id!==t.id}));return localStorage.setItem("list",JSON.stringify(r)),r;default:return e}};var l=function(e,t){switch(t.type){case"TOGGLE_SAFE_MODE":var a=e.safeMode;return{safeMode:a=!a,loading:e.loading,password:e.password,passwordToggle:e.passwordToggle};case"TOGGLE_LOADING":var n=e.loading;return n=!n,{safeMode:e.safeMode,loading:n,password:e.password,passwordToggle:e.passwordToggle};case"CHECK_PASSWORD":var r=e.password,s=e.passwordToggle;return"stillwinter"===t.payload?(r=!0,s=!s):"xD"===t.payload?r=!1:s=!s,{safeMode:e.safeMode,loading:e.loading,password:r,passwordToggle:s};default:return e}},u=a(0),g=Object(n.createContext)();var m=function(e){var t=Object(n.useReducer)(d,[]),a=Object(c.a)(t,2),r=a[0],s=a[1],i=Object(n.useReducer)(l,{safeMode:!0,loading:!1,password:!1,passwordToggle:!1}),o=Object(c.a)(i,2),m=o[0],p=o[1];return Object(u.jsx)(g.Provider,{value:{animes:r,dispatch:s,auth:m,authenticator:p},children:e.children})};var p=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),o=i[0],d=i[1],l=Object(n.useRef)(!0),m=Object(n.useContext)(g),p=m.dispatch,f=m.auth,O=m.authenticator;Object(n.useEffect)((function(){p({type:"LOAD_ANIMES"}),o&&function(e){fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"query($name: String, $status: MediaStatus) {         \n            Media(search: $name, type: ANIME, status: $status) {\n              id,\n              title {\n                english,\n                romaji,\n              },\n              status,\n              startDate {\n                year,\n                month,\n                day\n              },\n              averageScore,\n              type,\n              genres,\n              isAdult,\n              episodes,\n              nextAiringEpisode {\n                id,\n                airingAt,\n                timeUntilAiring\n              },\n              bannerImage,\n              coverImage {\n                large,\n                extraLarge\n              }\n            }\n          \n          }",variables:{name:e}})}).then((function(e){return e.json()})).then((function(e){console.log("data returned:",e),e.errors||f.safeMode&&e.data.Media.isAdult?alert("ANIME NAME NOT FOUND... BE MORE SPECIFIC"):p({type:"ADD_ANIME",anime:{name:e.data.Media.title.english?e.data.Media.title.english:e.data.Media.title.romaji,url:e.data.Media.coverImage.extraLarge,genre:e.data.Media.genres,aid:e.data.Media.id,rating:e.data.Media.averageScore,episodes:e.data.Media.episodes,date:e.data.Media.startDate}})}))}(o)}),[o]),Object(n.useEffect)((function(){if(l.current)return console.log('Pssst... Password is "stillwinter"'),void(l.current=!1);f.password?j().then((function(){O({type:"TOGGLE_SAFE_MODE"}),O({type:"TOGGLE_LOADING"})})):j().then((function(){alert("WRONG PASSWORD!"),O({type:"TOGGLE_LOADING"})}))}),[f.passwordToggle]);var j=function(){return new Promise((function(e){setTimeout(e,1e3)}))};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{id:"input_form",className:"flex items-center justify-center flex-col mx-8 mt-8 xl:flex-row lg:flex-row md:flex-col sm:flex-col",onSubmit:function(e){e.preventDefault(),d(a),r("")},children:[Object(u.jsx)("input",{id:"name",className:"p-2 mr-4 w-full bg-gray-600 text-gray-100 focus:ring rounded ring-blue-700 xl:w-1/2 lg:w-1/2 md:w-3/4 sm:w-full",type:"text",name:"hidden",value:a,placeholder:"Anime Name",autoComplete:"false",onChange:function(e){return r(e.target.value)},required:!0}),Object(u.jsxs)("div",{className:"buttons flex justify-center items-center my-4",children:[Object(u.jsx)("button",{type:"submit",className:"px-4 py-2 mr-4 rounded hover:bg-white hover:text-blue-700 bg-blue-700 text-white",children:"INSERT"}),Object(u.jsx)("button",{className:"px-4 py-2 mr-4 rounded text-white "+(f.loading?"bg-yellow-300 text-gray-900":f.safeMode?"bg-green-700 ":"bg-red-700 "),type:"button",onClick:function(){f.password?(O({type:"TOGGLE_LOADING"}),O({type:"CHECK_PASSWORD",payload:"xD"}),j().then((function(){O({type:"TOGGLE_SAFE_MODE"}),O({type:"TOGGLE_LOADING"})}))):(O({type:"TOGGLE_LOADING"}),new Promise((function(e){setTimeout(e,3e3)})).then((function(){var e=prompt("ENTER PASSWORD");O(null!==e&&""!==e?{type:"CHECK_PASSWORD",payload:e}:{type:"TOGGLE_LOADING"})})))},children:f.loading?"LOADING":f.safeMode?"SAFE MODE:ON":"SAFE MODE:OFF"})]})]})})};a(15);var f=function(e){var t,a,r=Object(n.useContext)(g).dispatch,s=Object(n.useRef)(null),i=!1,c=function(e){i=!1};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"card_outer flex items-end z-10",style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08)),\n    url(".concat(e.url,") no-repeat center center/cover")},children:[Object(u.jsx)("div",{className:"card_content_cover"}),Object(u.jsxs)("div",{className:"card_content my-2",children:[Object(u.jsx)("h1",{className:"pr-2 font-bold text-xl",children:e.name}),Object(u.jsxs)("div",{className:"card_details",children:[e.episodes?Object(u.jsxs)("div",{className:"episodes",children:["EP : ",e.episodes," "]}):"",e.date?Object(u.jsxs)("div",{className:"year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.date.month-1]," ",e.date.year," "]}):"",Object(u.jsx)("div",{className:"card_rating",children:e.rating?Object(u.jsxs)(u.Fragment,{children:[" ",e.rating/10," ",Object(u.jsx)("i",{className:"fas fa-star"})]}):""})]}),Object(u.jsx)("div",{className:"genre mb-2",ref:s,onMouseDown:function(e){i=!0,t=e.pageX-s.current.offsetLeft,a=s.current.scrollLeft},onMouseUp:c,onMouseLeave:c,onMouseMove:function(e){if(e.preventDefault(),i){var n=e.pageX-s.current.offsetLeft-t;s.current.scrollLeft=a-n}},children:e.genre.map((function(e,t){return Object(u.jsx)("p",{className:"genre_item mr-2 rounded-full py-1 my-1 px-2 bg-gray-600 text-sm bg-opacity-80",children:e},t)}))}),Object(u.jsxs)("button",{id:"delete",className:"flex justify-center items-center p-2 w-full mx-auto bg-red-600 rounded-md text-white active:text-red-600 active:bg-gray-200 hover:text-red-600 hover:bg-gray-200",onClick:function(t){r({type:"REMOVE_ANIME",id:e.id})},children:[Object(u.jsx)("i",{className:"far fa-trash-alt mr-2"}),"DELETE"]})]})]})})};var O=function(){var e=Object(n.useContext)(g).animes;return e.length?Object(u.jsx)("div",{className:"cards grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-4 my-10 justify-items-center ",children:e.map((function(e){return Object(u.jsx)(f,{name:e.name,id:e.id,anime_id:e.aid,genre:e.genre,rating:e.rating,episodes:e.episodes,url:e.url,date:e.date},e.id)}))}):Object(u.jsx)("h1",{className:"empty text-white text-center text-xl font-bold",children:"No More Animes On The List"})};var j=function(){return Object(u.jsx)(m,{children:Object(u.jsxs)("div",{className:"cover",children:[Object(u.jsx)("div",{className:"form",children:Object(u.jsx)(p,{})}),Object(u.jsx)(O,{})]})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ffa05e67.chunk.js.map